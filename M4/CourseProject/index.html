<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>COP1801 JS</title>
		<link rel="stylesheet" href="../../index.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	</head>
	<body>
		<nav class="nav">
			<p>Kyle Caprio</p>
			<p>COP1801 JavaScript</p>
			<p><a href="/kylecaprio/COP1801JavaScript/COP1801-Directory.html">Directory</a></p>
		</nav>
		<header class="head">
			<h2>Module 4</h2>
			<p>Course Project: Extend M3 Course Project Functionality</p>
			<p>Continued: Allow user to enter any string, create a function that performs some action on the
				entry after a button click</p>
		</header>

		<main>
			<div>What generation were you born in?</div>
			<form>
				<div><input class="form-input" type="text" placeholder="Enter Birth Year"></div>
				<div><button class="form-button" type="submit">Find Generation</button></div>
			</form>
		</main>
	</body>

	<script>

		$('.form-input').submit(e => submit(e))
		$('.form-button').click(e => submit(e))

		function submit (e) {
			// Prevent form submission
			e.preventDefault()

			// Clear dom target displays 
			$('.input-target').remove()
			$('.result-target').remove()

			// Get value from input
			const input = parseInt($('.form-input').val())

			// Display error if input is not a number
			if (!Number.isInteger(input)) return setYearTarget('Not A Number')

			// Get generation absed on input value
			const generation = determineGeneration(input)

			// Display only if input is in interpretable range
			if (input >= 1928 && input <= 2021) {
				setYearTarget(input)
				setGenTarget(generation)
			}		
		}

		const determineGeneration = (year) => {
			console.log({BirthYear: year})
			switch (true) {
				case (year >= 1928 && year <= 1945):
					console.log({Generation: 'Silent Generation'})
					return 'Silent Generation'
				case (year >= 1946 && year <= 1964):
					console.log({Generation: 'Baby Boomer'})
					return 'Baby Boomer'
				case (year >= 1965 && year <= 1980):
					console.log({Generation: 'Generation X'})
					return 'Generation X'
				case (year >= 1981 && year <= 1996):
					console.log({Generation: 'Millenial'})
					return 'Millenial'
				case (year >= 1997 && year <= 2021):
					console.log({Generation: 'Generation Z'})
					return 'Generation Z'
				default:
					console.log({Generation: 'Unknown'})
					return setGenTarget('Unknown')
			}
		}

		const setYearTarget = (x) => $(`<div><strong>Birth Year:</strong> ${x}</div>`).appendTo('main').addClass('input-target')
		const setGenTarget = (x) => $(`<div><strong>Generation:</strong> ${x}</div>`).appendTo('main').addClass('result-target')

	</script>
	<style>
		main {
			margin: 0 auto;
			text-align: center;
		}
		form {
			width: 400px;
		}
	</style>
</html>